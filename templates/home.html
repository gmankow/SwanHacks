<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>Homepage</title>
        <link rel="stylesheet" type="text/css" href="/static/homepageLooks.css">
    </head>
    <body>
        <ul class="main-menu">
             <li class="dropdown">
                <a href="#">First Grade</a>
    
                <ul class="submenu">
                    <li class="dropdown-level-2">
                        <a href="#">English</a>
        
                        <ul class="sub-submenu">
                            <li><a href="#">Idk what 1st english is</a></li>
                            <li><a href="#">Not at all</a></li>
                        </ul>
                    </li>
      
                    <li class="dropdown-level-2">
                        <a href="#">Math</a>
        
                        <ul class="sub-submenu">
                            <li><a href="#">Idk what 1st math is</a></li>
                            <li><a href="#">Not at all</a></li>
                        </ul>
        
                    </li>
                </ul>
    
            </li>

             <li class="dropdown">
                <a href="#">Second Grade</a>
    
                <ul class="submenu">
                    <li class="dropdown-level-2">
                        <a href="#">English</a>
        
                        <ul class="sub-submenu">
                            <li><a href="#">Idk what 2nd english is</a></li>
                            <li><a href="#">Not at all</a></li>
                        </ul>
                    </li>
      
                    <li class="dropdown-level-2">
                        <a href="#">Math</a>
        
                        <ul class="sub-submenu">
                            <li><a href="#">Idk what 2nd math is</a></li>
                            <li><a href="#">Not at all</a></li>
                        </ul>
        
                    </li>
                </ul>
    
            </li>

             <li class="dropdown">
                <a href="#">Third Grade</a>
    
                <ul class="submenu">
                    <li class="dropdown-level-2">
                        <a href="#">English</a>
        
                        <ul class="sub-submenu">
                            <li><a href="#">Idk what 3rd english is</a></li>
                            <li><a href="#">Not at all</a></li>
                        </ul>
                    </li>
      
                    <li class="dropdown-level-2">
                        <a href="#">Math</a>
        
                        <ul class="sub-submenu">
                            <li><a href="#">Idk what 3rd math is</a></li>
                            <li><a href="#">Not at all</a></li>
                        </ul>
        
                    </li>
                </ul>
    
            </li>
  
            <li class="dropdown">
                <a href="#">Fourth Grade</a>
    
                <ul class="submenu">
                    <li class="dropdown-level-2">
                        <a href="#">English</a>
        
                        <ul class="sub-submenu">
                            <li><a href="#">Idk what 4th english is</a></li>
                            <li><a href="#">Not at all</a></li>
                        </ul>
                    </li>
      
                    <li class="dropdown-level-2">
                        <a href="#">Math</a>
        
                        <ul class="sub-submenu">
                            <li><a href="#">Idk what 4th math is</a></li>
                            <li><a href="#">Not at all</a></li>
                        </ul>
        
                    </li>
                </ul>
    
            </li>
  
            <li class="dropdown">
                <a href="#">Fifth Grade</a>
                <ul class="submenu">
                    <li class="dropdown-level-2">
                        <a href="#">English</a>
        
                        <ul class="sub-submenu">
                            <li><a href="#">Idk what 5th english is</a></li>
                            <li><a href="#">Not at all</a></li>
                        </ul>
                    </li>
      
                    <li class="dropdown-level-2">
                        <a href="#">Math</a>
        
                        <ul class="sub-submenu">
                            <li><a href="/math/AlgebraicThinking/algebraicThinking">Algebra</a></li>
                            <li><a href="#">Fractions</a></li>
                            <li><a href="#">Geometry</a></li>
                            <li><a href="#">Measurements</a></li>
                            <li><a href="#">Decimals</a></li>
                            <li><a href="#">Whole Numbers</a></li>
                        </ul>
        
                    </li>
                </ul>
            </li>
        </ul>
    </body>
    <body>
        <div class="MainPage">
        <div class="title">
            <h1>Lesson Plan Bot!</h1>
        </div>
        <div class="input">
            <textarea id="input" rows="3" cols="50"></textarea><br />
            
            <div class="send">
                <button onclick="send()">Send</button>
                <pre id="output"></pre>
            </div>
        </div>

        <h2>Response:</h2>
        <div id="result" style="white-space: pre-wrap; color: #FFF; border: 1px solid #ccc; padding: 8px;"></div>
        

    <script>
      async function send() {
        const inputEl = document.getElementById("input");
        const resultEl = document.getElementById("result");
        const message = inputEl.value.trim();

        if (!message) {
          resultEl.textContent = "Please type something first.";
          return;
        }

        resultEl.textContent = "Thinking...";

        try {
          const res = await fetch("/lesson_plan", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ message }),
          });

          console.log("Status:", res.status);

          const data = await res.json();
          console.log("Data:", data);

          if (data.reply) {
            resultEl.innerHTML = data.reply;
          } else if (data.error) {
            resultEl.textContent = "Error: " + data.error;
          } else {
            resultEl.textContent = "No reply or error field in response.";
          }
        } catch (err) {
          console.error("Fetch error:", err);
          resultEl.textContent = "Request failed: " + err;
        }
      }
    </script>
    </div>
    </body>
</html>
